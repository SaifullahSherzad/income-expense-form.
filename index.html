<!DOCTYPE html>
<html lang="ps" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title> Ø¯ ÙˆØ±ÚÙ†ÙŠ Ø­Ø³Ø§Ø¨ ÙÙˆØ±Ù…</title>

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Naskh+Arabic:wght@400;500;600;700&display=swap" rel="stylesheet">

  <style>
    /* ---------- Theme (Linear / Vercel inspired) ---------- */
    :root{
      --bg: #0b0c0d;               /* deep background */
      --panel: #0f1113;            /* panel */
      --muted: #9aa4af;            /* secondary text */
      --text: #e6eef6;             /* primary text */
      --border: rgba(255,255,255,0.06);
      --accent: #6b72ff;           /* single accent color */
      --accent-2: #6b72ff;         /* keep accent consistent */
      --glass: rgba(255,255,255,0.02);
      --radius: 12px;
      --transition: 180ms cubic-bezier(.2,.9,.3,1);
      font-family: 'Inter', 'Noto Naskh Arabic', system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    }

    /* ---------- Page ---------- */
    html,body{
      height:100%;
      margin:0;
      background: linear-gradient(180deg,var(--bg) 0%, #0f1720 100%);
      color:var(--text);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      direction: rtl;
    }

    .wrap{
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:32px;
      box-sizing:border-box;
    }

    /* ---------- Container (clean card) ---------- */
    .card {
      width:100%;
      max-width:720px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid var(--border);
      border-radius:16px;
      padding:32px;
      box-sizing:border-box;
      box-shadow: 0 8px 30px rgba(2,6,23,0.6);
      backdrop-filter: blur(6px);
    }

    /* Header */
    .card-header{
      display:flex;
      align-items:center;
      gap:16px;
      margin-bottom:22px;
    }

    .brand {
      width:56px;
      height:56px;
      border-radius:10px;
      background: linear-gradient(135deg,var(--accent), #5a60ff 70%);
      display:flex;
      align-items:center;
      justify-content:center;
      font-weight:700;
      box-shadow: 0 6px 18px rgba(107,114,255,0.18);
      flex-shrink:0;
    }
    .brand span { font-size:20px; color:white; }

    .header-text{
      display:flex;
      flex-direction:column;
    }
    .header-text h1{
      margin:0;
      font-size:20px;
      letter-spacing:-0.2px;
      font-weight:700;
      color:var(--text);
    }
    .header-text p{
      margin:4px 0 0 0;
      color:var(--muted);
      font-size:13px;
    }

    /* Form layout */
    form {
      display:grid;
      gap:16px;
      grid-template-columns: 1fr 1fr;
      align-items:start;
    }
    /* make single column on small */
    @media (max-width:640px){
      form { grid-template-columns: 1fr; }
    }

    /* Input group style (floating label) */
    .field {
      position:relative;
      display:flex;
      flex-direction:column-reverse;
    }

    input[type="text"],
    input[type="number"],
    input[type="date"],
    textarea {
      appearance:none;
      width:100%;
      padding:14px 14px;
      border-radius:10px;
      border:1px solid var(--border);
      background: var(--panel);
      color:var(--text);
      font-size:15px;
      box-sizing:border-box;
      transition: box-shadow var(--transition), border-color var(--transition), transform var(--transition);
      outline: none;
    }

    textarea { padding:12px; min-height:110px; resize:vertical; }

    label.floating {
      font-size:12px;
      color:var(--muted);
      margin-bottom:8px;
      transition: transform var(--transition), color var(--transition), opacity var(--transition);
      opacity:0.95;
    }

    input:focus, textarea:focus {
      border-color: rgba(107,114,255,0.9);
      box-shadow: 0 6px 20px rgba(107,114,255,0.08);
      transform: translateY(-2px);
    }

    /* full width rows (date or notes) */
    .full {
      grid-column: 1 / -1;
    }

    /* right aligned tiny helper text */
    .hint {
      font-size:12px;
      color:var(--muted);
      margin-top:6px;
      text-align:right;
    }

    /* submit area */
    .actions {
      grid-column: 1 / -1;
      display:flex;
      gap:12px;
      align-items:center;
      justify-content:space-between;
      margin-top:6px;
    }

    .left {
      color:var(--muted);
      font-size:13px;
    }

    .btn {
      appearance:none;
      border:0;
      padding:12px 18px;
      font-weight:600;
      border-radius:10px;
      cursor:pointer;
      background: linear-gradient(90deg,var(--accent) 0%, #5a60ff 100%);
      color:white;
      box-shadow: 0 8px 20px rgba(107,114,255,0.18);
      transition: transform 160ms cubic-bezier(.2,.9,.3,1), box-shadow 160ms;
      display:inline-flex;
      gap:10px;
      align-items:center;
    }

    .btn:active{ transform: translateY(1px) scale(.998); }
    .btn[disabled] { opacity:0.65; cursor:not-allowed; pointer-events:none; }

    .btn .icon {
      width:18px;
      height:18px;
      display:inline-grid;
      place-items:center;
      font-size:12px;
    }

    /* message box */
    #msg {
      margin-top:12px;
      grid-column: 1 / -1;
      padding:12px 14px;
      border-radius:10px;
      border:1px solid var(--border);
      background: var(--glass);
      color:var(--text);
      display:none;
      align-items:center;
      gap:8px;
      font-weight:600;
    }
    #msg.show { display:flex; }

    #msg.success { color: #7ee3b2; border-color: rgba(126,227,178,0.08); background: rgba(126,227,178,0.03); }
    #msg.error { color: #ffb3b3; border-color: rgba(255,179,179,0.06); background: rgba(255,179,179,0.02); }

    /* small utility */
    .input-row {
      display:flex;
      gap:12px;
    }

    /* subtle separators */
    .sep {
      height:1px;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.02), transparent);
      margin-top:18px;
      margin-bottom:6px;
      grid-column:1 / -1;
    }

    /* placeholders styling for rtl readability */
    ::placeholder { color: rgba(255,255,255,0.25); }

    /* responsive tweak for labels inside small fields */
    .field.small label.floating { font-size:11px; }

  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" role="region" aria-labelledby="formTitle">
      <div class="card-header">
        <div class="brand" aria-hidden="true"><span>TR</span></div>
        <div class="header-text">
          <h1 id="formTitle">Ø¯ Ù¼Ø±ÛŒÙ„Ø± Ø¯ ÙˆØ±ÚÙ†ÙŠ Ø­Ø³Ø§Ø¨ ÙÙˆØ±Ù…</h1>
          <p</p>Ù…Ù‡Ø±Ø¨Ø§Ù†ÙŠ ÙˆÚ©Ú“Ø¦ ÙˆØ±ÚÙ†ÙŠ Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù¾Ù‡ Ø¯Ù‚ÛŒÙ‚Ù‡ ØªÙˆÚ«Ù‡ Ú‰Ú© Ú©Ú“Ø¦</p>
        </div>
      </div>

      <form id="trailerForm" novalidate>
        <!-- Date (full width) -->
        <div class="field full">
          <label class="floating" for="date">Ù†ÛŒÙ¼Ù‡</label>
          <input id="date" type="date" required aria-required="true" />
          <div class="hint">Ù…Ù‡Ø±Ø¨Ø§Ù†ÙŠ ÙˆÚ©Ú“Ø¦ Ø³Ù…Ù‡ Ù†ÛÙ¼Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ú“Ø¦</div>
        </div>

        <!-- Income -->
        <div class="field small">
          <label class="floating" for="income">Ø¹Ø§ÛŒØ¯ (Ø¯Ù„ØªÙ‡ Ø¯ Ø¹Ø§Ø¦Ø¯ Ø§Ù†Ø¯Ø§Ø²Ù‡ ÙˆÙ„ÛŒÚ©Ø¦)</label>
          <input id="income" type="number" min="0" inputmode="numeric" placeholder="0" />
        </div>

        <!-- Expense -->
        <div class="field small">
          <label class="floating" for="expense">Ù…ØµØ±Ù (Ø¯Ù„ØªÙ‡ Ø¯ Ù…ØµØ±Ù Ø§Ù†Ø¯Ø§Ø²Ù‡ ÙˆÙ„ÛŒÚ©Ø¦)</label>
          <input id="expense" type="number" min="0" inputmode="numeric" placeholder="0" />
        </div>

        <!-- Detail (full) -->
        <div class="field full">
          <label class="floating" for="detail">ØªÙØµÛŒÙ„</label>
          <input id="detail" type="text" placeholder="Ø¯ Ú©Ø§Ø± ØªÙØµÛŒÙ„ ÙˆÙ„ÛŒÚ©Ø¦" />
        </div>

        <!-- Notes -->
        <div class="field full">
          <label class="floating" for="note">ÛŒØ§Ø¯Ø§ÚšØª</label>
          <textarea id="note" placeholder="ÛŒØ§Ø¯Ø§ÚšØª ÙˆÙ„ÛŒÚ©Ø¦ ..."></textarea>
        </div>

        <div class="sep" aria-hidden="true"></div>

        <div class="actions">
          <div class="left"></div>
          <button type="button" class="btn" onclick="sendData()" aria-label="Ø«Ø¨ØªÙˆÙ„">
            <span class="icon">ğŸ’¾</span>
            <span>Ø«Ø¨ØªÙˆÙ„</span>
          </button>
        </div>

        <div id="msg" role="status" aria-live="polite"></div>
      </form>
    </div>
  </div>

  <!-- JS (Ø³ØªØ§ Ø§ØµÙ„ÙŠ ÙÙ†Ú©Ø´Ù†ÙˆÙ†Ù‡ - Ù…Ø§ Ù‡ÛŒÚ… Ù†Ù‡ Ø¨Ø¯Ù„ Ú©Ú“Ù„) -->
  <script>
  // Ø§ØµÙ„ÙŠ ÙÙ†Ú©Ø´Ù† (Ø³ØªØ§Ø³Ùˆ Ù…ÙˆØ¬ÙˆØ¯Ù‡ Ù…Ù†Ø·Ù‚)
  function sendData() {
    const URL = "https://script.google.com/macros/s/AKfycbxMuzcGNbDxdvzOaOw-n1hY-Mbr2OsxYEBVDqnC2TP35baYP3lkXbo0nyF87LltSVHB/exec";

    const rawDate = document.getElementById("date").value;
    if (!rawDate) {
      showMessage('âš ï¸ Ù…Ù‡Ø±Ø¨Ø§Ù†ÙŠ ÙˆÚ©Ú“Ø¦ Ø³Ù…Ù‡ Ù†ÛŒÙ¼Ù‡ Ø§Ù†ØªØ®Ø§Ø¨ Ú©Ú“Ø¦', 'error');
      return;
    }

    const parts = rawDate.split("-");
    const yyyy = Number(parts[0]);
    const mmIdx = Number(parts[1]) - 1;
    const dd = Number(parts[2]);
    const date = `${String(dd).padStart(2,'0')}-${String(mmIdx+1).padStart(2,'0')}-${yyyy}`;

    const income = document.getElementById("income").value || 0;
    const expense = document.getElementById("expense").value || 0;
    const detail = (document.getElementById("detail").value || '').trim();
    const note = (document.getElementById("note").value || '').trim();

    const finalURL = `${URL}?date=${encodeURIComponent(date)}&income=${income}&expense=${expense}&detail=${encodeURIComponent(detail)}&note=${encodeURIComponent(note)}`;

    const btn = document.querySelector('.btn');
    const originalHTML = btn.innerHTML;
    btn.disabled = true;
    btn.innerHTML = '<span class="icon">â³</span><span>...Ø«Ø¨ØªÛÚ–ÙŠ</span>';

    fetch(finalURL)
      .then(r => r.text())
      .then(res => {
        if (res.includes('OK:')) {
          showMessage('<span class="success-check">âœ“</span> Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ù¾Ù‡ Ø¨Ø±ÛŒØ§Ù„ÛŒØªÙˆØ¨ Ø³Ø±Ù‡ Ø«Ø¨Øª Ø´ÙˆÙ„', 'success');
          setTimeout(() => {
            document.getElementById('trailerForm').reset();
          }, 1200);
        } else {
          showMessage('âœ— ' + res, 'error');
        }
      })
      .catch(() => {
        showMessage('âœ— Ø¯ Ù…Ø¹Ù„ÙˆÙ…Ø§ØªÙˆ Ù„ÛŒÚ–Ù„Ùˆ Ø³ØªÙˆÙ†Ø²Ù‡ Ø±Ø§Ù…Ù†ÚØªÙ‡ Ø´ÙˆÙ‡', 'error');
      })
      .finally(() => {
        btn.disabled = false;
        btn.innerHTML = originalHTML;
      });
  }

  // Ø¯ Ù¾ÛŒØºØ§Ù… ÚšÙˆØ¯Ù„Ùˆ ÙÙ†Ú©Ø´Ù†
  function showMessage(text, type) {
    const msgEl = document.getElementById('msg');
    msgEl.innerHTML = text;
    msgEl.className = '';
    msgEl.classList.add('show');
    // type Ú©Ù„Ø§Ø³ Ù‡Ù… ÙˆØ±Ú©Ú“Ù‡
    msgEl.classList.add(type);
    // Ø§Ùˆ aria Ø±ÙˆÙ„ÙˆÙ†Ùˆ ØªÙ‡ Ø³Ù…ÙˆÙ†
    msgEl.setAttribute('role','status');
    msgEl.setAttribute('aria-live','polite');

    setTimeout(() => {
      msgEl.classList.remove('show');
      msgEl.classList.remove('success','error');
    }, 5000);
  }
  </script>
</body>
</html>
