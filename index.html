<!doctype html>
<html lang="ps" dir="rtl">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>د عاید او مصارفو حساب - 2026</title>

  <!-- Pashto-friendly font -->
  <link href="https://fonts.googleapis.com/css2?family=Noto+Naskh+Arabic:wght@400;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --bg1:#0b1220;
      --bg2:#101b34;
      --card:#0f213f99; /* glass */
      --accent:#4f8afa;
      --accent2:#7c5cff;
      --text:#eaf2ff;
      --muted:#a9b7d9;
      --border:#22406f;
      --ok:#22c55e;
      --err:#ef4444;
    }
    *{box-sizing:border-box}
    html,body{
      height:100%;
      margin:0;
      padding:0;
      background: radial-gradient(1200px 600px at 20% 10%, #122045 0%, var(--bg1) 40%, var(--bg2) 100%),
                  radial-gradient(900px 500px at 80% 80%, #1a2c58 0%, var(--bg2) 60%, #0b1220 100%);
      color:var(--text);
      font-family:'Noto Naskh Arabic', system-ui, sans-serif;
    }

    /* animated aurora background blobs */
    .aurora{
      position:fixed; inset:0; pointer-events:none; filter: blur(60px);
    }
    .blob{
      position:absolute; width:450px; height:450px; border-radius:50%;
      opacity:0.35; mix-blend-mode:screen;
      animation: float 10s ease-in-out infinite;
    }
    .blob.b1{ background:#5aa2ff; left:8%; top:12%; animation-duration:12s;}
    .blob.b2{ background:#8b6cff; right:10%; top:18%; animation-duration:14s;}
    .blob.b3{ background:#3bd6a5; left:20%; bottom:12%; animation-duration:16s;}
    @keyframes float{
      0%{ transform:translateY(0) translateX(0) scale(1);}
      50%{ transform:translateY(-20px) translateX(12px) scale(1.05);}
      100%{ transform:translateY(0) translateX(0) scale(1);}
    }

    /* container and hero */
    .wrap{
      max-width:980px; margin:60px auto; padding:0 20px;
    }
    .hero{
      text-align:center; margin-bottom:24px;
    }
    .title{
      font-size:32px; font-weight:600; letter-spacing:0.3px;
      text-shadow: 0 10px 30px rgba(79,138,250,0.35);
    }
    .subtitle{
      font-size:16px; color:var(--muted);
      margin-top:6px;
    }

    /* card with glassmorphism */
    .card{
      position:relative;
      background:linear-gradient(180deg, rgba(20,40,80,0.5), rgba(10,22,44,0.55));
      backdrop-filter:saturate(140%) blur(14px);
      border:1px solid rgba(110,160,255,0.18);
      border-radius:18px;
      box-shadow:
        0 20px 50px rgba(0,0,0,0.45),
        inset 0 1px 0 rgba(255,255,255,0.12);
      padding:28px;
      overflow:hidden;
    }
    .card::before{
      content:"";
      position:absolute; inset:-2px;
      border-radius:20px;
      background: conic-gradient(from 140deg, transparent 0 30%, rgba(127,197,255,0.18) 40%, transparent 70%);
      filter: blur(20px);
      opacity:0.35;
      pointer-events:none;
    }

    /* grid layout */
    .grid{
      display:grid;
      grid-template-columns:1fr 1fr;
      gap:18px;
    }
    @media (max-width:720px){
      .grid{ grid-template-columns:1fr; }
    }

    /* form field group */
    .field{
      position:relative;
    }
    .label{
      display:block; margin-bottom:8px; font-weight:600; color:#dbe8ff;
    }
    .input, .textarea{
      width:100%; padding:14px 14px;
      background:linear-gradient(180deg, rgba(17,32,64,0.75), rgba(13,26,52,0.85));
      border:1px solid var(--border);
      border-radius:12px;
      color:var(--text);
      outline:none;
      transition: border-color .2s ease, box-shadow .2s ease, transform .12s ease;
      box-shadow:
        inset 0 1px 0 rgba(255,255,255,0.06),
        0 10px 22px rgba(15,32,64,0.6);
    }
    .input:hover, .textarea:hover{
      border-color:#4f8afa;
    }
    .input:focus, .textarea:focus{
      border-color:#7c5cff;
      box-shadow: 0 0 0 4px rgba(124,92,255,0.18), 0 12px 28px rgba(56,96,180,0.25);
      transform: translateY(-1px);
    }
    .textarea{ min-height:120px; resize:vertical; }

    /* 3D buttons */
    .actions{
      display:flex; gap:14px; margin-top:8px; flex-wrap:wrap;
    }
    .btn{
      position:relative;
      display:inline-flex; align-items:center; justify-content:center;
      gap:10px; width:auto; min-width:160px;
      padding:12px 18px; border-radius:14px;
      color:#fff; font-weight:700; letter-spacing:0.2px;
      text-shadow:0 1px 0 rgba(0,0,0,0.35);
      cursor:pointer; user-select:none;
      border:1px solid rgba(255,255,255,0.12);
      background:
        linear-gradient(180deg, #6aa0ff 0%, #3a7bfd 40%, #215ef1 60%, #163bd6 100%);
      box-shadow:
        0 16px 35px rgba(41,92,240,0.35),
        inset 0 6px 12px rgba(255,255,255,0.18),
        inset 0 -6px 12px rgba(16,48,160,0.5);
      transition: transform .12s ease, box-shadow .2s ease, filter .2s ease;
    }
    .btn::after{
      content:"";
      position:absolute; inset:0; border-radius:14px;
      box-shadow: inset 0 1px 0 rgba(255,255,255,0.4);
      opacity:.7; pointer-events:none;
    }
    .btn:hover{ transform: translateY(-2px); filter: brightness(1.05); }
    .btn:active{ transform: translateY(0); box-shadow: 0 8px 18px rgba(41,92,240,0.28); }

    .btn.secondary{
      background:
        linear-gradient(180deg, #9aa5b1 0%, #7b8694 40%, #5b6571 100%);
      box-shadow:
        0 12px 26px rgba(90,100,120,0.35),
        inset 0 6px 12px rgba(255,255,255,0.15),
        inset 0 -6px 12px rgba(55,60,70,0.5);
    }

    /* status toast */
    .status{
      margin-top:14px; font-size:15px; color:var(--muted);
    }
    .status.success{ color:var(--ok); }
    .status.error{ color:var(--err); }

    /* section header with accent line */
    .section-header{
      display:flex; align-items:center; gap:10px; margin:10px 0 18px;
    }
    .accent-line{
      flex:1; height:2px;
      background: linear-gradient(90deg, transparent, #4f8afa, #7c5cff, transparent);
      filter: blur(.6px);
    }
  </style>
</head>
<body>

  <!-- animated ambient blobs -->
  <div class="aurora">
    <div class="blob b1"></div>
    <div class="blob b2"></div>
    <div class="blob b3"></div>
  </div>

  <div class="wrap">
    <div class="hero">
      <div class="title">د عاید او مصارفو حساب — 2026</div>
      <div class="subtitle">لاندې معلومات په دقت سره ولیکئ. ډیزاین د ښکلا او وضاحت لپاره اصلاح شوی.</div>
    </div>

    <div class="card">
      <div class="section-header">
        <span style="font-weight:700">فورم</span>
        <div class="accent-line"></div>
      </div>

      <form id="form">
        <div class="grid">
          <div class="field">
            <label class="label">نیټه</label>
            <input class="input" type="date" name="date" required>
          </div>

          <div class="field">
            <label class="label">عایدات</label>
            <input class="input" type="number" name="income" min="0" step="0.01" placeholder="0" required>
          </div>

          <div class="field">
            <label class="label">مصارف</label>
            <input class="input" type="number" name="expense" min="0" step="0.01" placeholder="0">
          </div>

          <div class="field">
            <label class="label">د کار تفصیل</label>
            <input class="input" type="text" name="detail" placeholder="مثال: د ترمیم فیس، د نقل خرڅ...">
          </div>
        </div>

        <div class="field">
          <label class="label">یادښت</label>
          <textarea class="textarea" name="note" placeholder="هر ډول یادونه…"></textarea>
        </div>

        <div class="actions">
          <button class="btn" type="submit">ثبت کړی</button>
          <button class="btn secondary" type="reset">پاک کړی</button>
        </div>

        <div id="status" class="status"></div>
      </form>
    </div>
  </div>

  <script>
    // NOTE: Replace with your actual Web App URL if you deploy again.
    const ENDPOINT = 'https://script.google.com/macros/s/AKfycbyEU9SLCtyzShfmAUJxluXXISmV97n51G52TFNd-EBaH4yQU_moKweBOv08U0tZPCOv/exec';

    // graceful status helper
    function setStatus(msg, kind){
      const el = document.getElementById('status');
      el.textContent = msg;
      el.className = 'status' + (kind ? (' ' + kind) : '');
    }

    document.getElementById('form').addEventListener('submit', async (e)=>{
      e.preventDefault();
      setStatus('ثبت روان دی…');

      const fd = new FormData(e.target);
      const payload = {
        date: fd.get('date'),
        income: Number(fd.get('income') || 0),
        expense: Number(fd.get('expense') || 0),
        detail: (fd.get('detail') || '').trim(),
        note: (fd.get('note') || '').trim()
      };

      try{
        const res = await fetch(ENDPOINT, {
          method:'POST',
          headers:{ 'Content-Type':'application/json' },
          body: JSON.stringify(payload)
        });

        // If the response is not JSON, show a readable message
        const text = await res.text();
        let json;
        try{ json = JSON.parse(text); } catch{
          throw new Error('د سرور نااشنا ځواب: ' + text.slice(0,120) + '…');
        }

        if(json.ok){
          setStatus('ستاسو معلومات بریالي ثبت شول. مننه!', 'success');
          e.target.reset();
        }else{
          setStatus('ستونزه رامنځته شوه: ' + (json.error || 'نامعلومه ستونزه'), 'error');
        }
      }catch(err){
        setStatus('شبکه یا سرور ستونزه: ' + String(err), 'error');
      }
    });
  </script>
</body>
</html>
